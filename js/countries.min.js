var infoWindow=null,myLatLng=null,myOptions=null,mapCenter=null,geocodeTheCountry=!0,gpolygons=[],countries=["'Germany'"],FT_TableID="1ov8ykzakf3WcwMCIBRsZjzRlOAGvJFsDjN_m9VQ",CountryName="",FTresponse=null;infoWindow=new google.maps.InfoWindow;google.load("visualization","1",{packages:["corechart","table","geomap"]});
function countriesInitialize(){var a=new google.maps.Map(document.getElementById("map_canvas"),{zoom:2,center:{lat:37.4658276,lng:-38.6539022}});(new google.maps.FusionTablesLayer({query:{select:"geometry",from:"1ov8ykzakf3WcwMCIBRsZjzRlOAGvJFsDjN_m9VQ",where:"'Iso2CodeCountry' IN ('US','CN','IN','UK','DE','JP','AU','NZ','ES','FR','RU','DN','GR','NO','MY','BR','IT')"}})).setMap(a)}
function getData(a){if(a)if(a.isError())alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage());else if(FTresponse=a,numRows=a.getDataTable().getNumberOfRows(),numCols=a.getDataTable().getNumberOfColumns(),1>=numRows)document.getElementById("sidebar").innerHTML="no data";else{fusiontabledata="<table><tr>";fusiontabledata+="<th colspan='2'>"+a.getDataTable().getValue(1,0)+"</th>";fusiontabledata+="</tr><tr>";fusiontabledata+="<tr><td colspan='2' align='left'><a href='javascript:showAll();'>show all</a></td></tr>";
for(i=0;i<numRows;i++)fusiontabledata+="<td><a href='javascript:myFTclick("+i+")'>"+a.getDataTable().getValue(i,1)+"</a></td><td><a href='javascript:zoomTo("+i+")'>show</a></td>",fusiontabledata+="</tr><tr>";fusiontabledata+="</table>";document.getElementById("sidebar").innerHTML=fusiontabledata}else alert("no response")}
function infoWindowContent(a,b){content='<div class="FT_infowindow">'+a;"undefined"!=typeof b&&(content+='<a href="javascript:zoomTo('+b+');">zoom to</a>');return content+="</div>"}function myFTclick(a){var b=FTresponse.getDataTable().getValue(a,0);loadRow(a);var c=gpolygons[a].position;infoWindow||(infoWindow=new google.maps.InfoWindow({}));infoWindow.setOptions({content:infoWindowContent(b,a),pixelOffset:new google.maps.Size(0,2),position:c});infoWindow.open(map)}
function getCountryFromClick(a){a?a.isError()?alert("Error in query: "+a.getMessage()+" "+a.getDetailedMessage()):(numRows=a.getDataTable().getNumberOfRows(),numCols=a.getDataTable().getNumberOfColumns(),1>=numRows||(CountryName=a.getDataTable().getValue(1,0),DisplayCountry())):alert("no response")}$(function(){countriesInitialize()});